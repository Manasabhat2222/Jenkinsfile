pipeline {
agent label
stages {
stage ('clone_C_files') {
agent {
  label 'master'
}
steps { 
git branch: 'main', url: 'https://github.com/Manasabhat2222/C-files.git'
}
}

stage ('Build_C') {
agent {
  label 'master'
}
steps {
sh '''
cd /var/lib/jenkins/workspace/pipeline2
make
rm -rf *.o
mkdir C_files
sudo mv * /var/lib/jenkins/workspace/pipeline2/C_files
'''
}
}

stage ('clone_Java_files') {
agent {
  label 'practise'
}
steps { 
git branch: 'master', url: 'https://github.com/Manasabhat2222/Java.git'
}
}

stage ('Build_java') {
agent {
  label 'practise'
}
steps {
sh '''
cd /home/jenkins/jenkins-workspace/workspace/pipeline2
mvn clean install
'''
}
}
}
}
